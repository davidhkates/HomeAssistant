(function(A,O){typeof exports=="object"&&typeof module<"u"?module.exports=O():typeof define=="function"&&define.amd?define(O):(A=typeof globalThis<"u"?globalThis:A||self,A.ExpanderCard=O())})(this,(function(){"use strict";var Ms=Object.defineProperty;var qi=A=>{throw TypeError(A)};var Is=(A,O,L)=>O in A?Ms(A,O,{enumerable:!0,configurable:!0,writable:!0,value:L}):A[O]=L;var M=(A,O,L)=>Is(A,typeof O!="symbol"?O+"":O,L),sr=(A,O,L)=>O.has(A)||qi("Cannot "+L);var c=(A,O,L)=>(sr(A,O,"read from private field"),L?L.call(A):O.get(A)),C=(A,O,L)=>O.has(A)?qi("Cannot add the same private member more than once"):O instanceof WeakSet?O.add(A):O.set(A,L),y=(A,O,L,cn)=>(sr(A,O,"write to private field"),cn?cn.call(A,L):O.set(A,L),L),R=(A,O,L)=>(sr(A,O,"access private method"),L);var xi,Bt,Ht,Et,xt,an,Yt,Ut,B,or,Nt,lr,Ai,Oi,be,ue,sn,Pe,kt,Fe,$e,oe,Me,Ge,ot,St,lt,Ct,ft,An,D,Ni,Ri,fr,Nn,Rn,cr,Ne,Ie,de,Tt,on,ln,On,Ke,Ee;typeof window<"u"&&((xi=window.__svelte??(window.__svelte={})).v??(xi.v=new Set)).add("5");const O={icon:"","arrow-color":"","icon-rotate-degree":"","header-color":"","button-background":"","min-width-expanded":0,"max-width-expanded":0,"storage-id":"","expander-card-id":"","show-button-users":[],"start-expanded-users":[],"expander-card-background":"","expander-card-background-expanded":"","expander-card-display":"",gap:"",padding:"","expanded-gap":"","child-padding":"","child-margin-top":"","overlay-margin":"","title-card-padding":"",style:""},L={icon:{}},cn={text:{}},ji={text:{multiline:!0}},zi={boolean:{}},Pi={object:{}},Fi=e=>({number:{unit_of_measurement:e}}),Mi=(e,t)=>({name:e,label:t,selector:L}),V=(e,t)=>({name:e,label:t,selector:cn}),Ii=(e,t)=>({name:e,label:t,selector:ji}),Rt=(e,t)=>({name:e,label:t,selector:zi}),Di=(e,t)=>({name:e,label:t,selector:Pi}),ur=(e,t,n)=>({name:e,label:t,selector:Fi(n)}),Li=e=>({label:e,type:"constant"}),Bi=[{type:"expandable",label:"Expander Card Settings",icon:"mdi:arrow-down-bold-box-outline",schema:[{...V("title","Title")},{...Mi("icon","Icon")},{type:"expandable",label:"Expander control",icon:"mdi:cog-outline",schema:[{type:"grid",schema:[{...Rt("expanded","Start expanded")},{...Rt("animation","Enable animation")},{...ur("min-width-expanded","Min width expanded","px")},{...ur("max-width-expanded","Max width expanded","px")},{...V("storage-id","Storage ID")},{...V("expander-card-id","Expander card ID")}]}]},{type:"expandable",label:"Expander styling",icon:"mdi:palette-swatch",schema:[{type:"grid",schema:[{...V("arrow-color","Icon color")},{...V("icon-rotate-degree","Icon rotate degree")},{...V("header-color","Header color")},{...V("button-background","Button background color")},{...V("expander-card-background","Background")},{...V("expander-card-background-expanded","Background when expanded")},{...V("expander-card-display","Expander card display")},{...Rt("clear","Clear border and background")},{...V("gap","Gap")},{...V("padding","Padding")}]}]},{type:"expandable",label:"Card styling",icon:"mdi:palette-swatch-outline",schema:[{type:"grid",schema:[{...V("expanded-gap","Card gap")},{...V("child-padding","Card padding")},{...V("child-margin-top","Card margin top")},{...Rt("clear-children","Clear card border and background")}]}]},{type:"expandable",label:"Title card",icon:"mdi:subtitles-outline",schema:[{...Li("Use YAML to specify a title card to replace the expander title")},{...Di("title-card","")},{type:"grid",schema:[{...Rt("title-card-clickable","Make title card clickable to expand/collapse")},{...Rt("title-card-button-overlay","Overlay expand button on title card")},{...V("overlay-margin","Overlay margin")},{...V("title-card-padding","Title card padding")}]}]},{type:"expandable",label:"User settings",icon:"mdi:account-multiple-outline",schema:[{type:"grid",schema:[{name:"show-button-users",label:"Show button users",selector:{select:{multiple:!0,mode:"dropdown",custom:!0,options:["[[users]]"]}}},{name:"start-expanded-users",label:"Start expanded users",selector:{select:{multiple:!0,mode:"dropdown",custom:!0,options:["[[users]]"]}}}]}]},{type:"expandable",label:"Advanced styling",icon:"mdi:brush-outline",schema:[{...Ii("style","Custom CSS style")}]}]}],Wt=window;let un=Wt.cardHelpers;const Hi=new Promise(e=>{un&&e(),Wt.loadCardHelpers&&Wt.loadCardHelpers().then(t=>{un=t,Wt.cardHelpers=un,e()})});async function Yi(){const e=document.querySelector("home-assistant"),t=e==null?void 0:e.hass;return t?(await t.callWS({type:"config/auth/list"})).filter(i=>!i.system_generated).map(i=>i.name):void 0}const Ui=async()=>{const t=await(await Hi.then(()=>un.createCardElement({type:"vertical-stack",cards:[]}))).constructor.getConfigElement(),n=await Yi();return class extends t.constructor{constructor(){super(),this._computeLabelCallback=r=>r.label??r.name??"",this._valueChanged=r=>{const a=r.detail.value,o=Object.entries(O);for(const[s,l]of o){if(typeof l=="object"&&Array.isArray(l)&&Array.isArray(a[s])){JSON.stringify(a[s])===JSON.stringify(l)&&delete a[s];continue}a[s]===l&&delete a[s]}this._config=a,this.dispatchEvent(new CustomEvent("config-changed",{detail:{config:this._config}}))},this._users=n}setConfig(r){this._config=r}get _schema(){const a=JSON.stringify(Bi),o=this._users.map(f=>f.replace(/\\/g,"\\\\").replace(/"/g,'\\"')).join('","'),s=a.replace(/\[\[users\]\]/g,o);return JSON.parse(s)}set _schema(r){}}},Vi=(async()=>{for(;customElements.get("home-assistant")===void 0;)await new Promise(e=>Wt.setTimeout(e,100));if(!customElements.get("expander-card-editor")){const e=await Ui();customElements.define("expander-card-editor",e)}}),Ji=1,Wi=2,Gi=16,Ki=1,Xi=2,dr="[",dn="[!",jn="]",ct={},G=Symbol(),Zi="http://www.w3.org/1999/xhtml",zn=!1;var hr=Array.isArray,Qi=Array.prototype.indexOf,hn=Array.from,pn=Object.keys,vn=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,ea=Object.getOwnPropertyDescriptors,ta=Object.prototype,na=Array.prototype,pr=Object.getPrototypeOf,vr=Object.isExtensible;function ra(e){for(var t=0;t<e.length;t++)e[t]()}function gr(){var e,t,n=new Promise((i,r)=>{e=i,t=r});return{promise:n,resolve:e,reject:t}}const J=2,Pn=4,Fn=8,ia=1<<24,Be=16,He=32,Xe=64,gn=128,ke=512,K=1024,se=2048,Ye=4096,le=8192,Ue=16384,_n=32768,zt=65536,_r=1<<17,mr=1<<18,ut=1<<19,aa=1<<20,Ze=1<<25,dt=32768,Mn=1<<21,In=1<<22,Qe=1<<23,mn=Symbol("$state"),sa=Symbol("legacy props"),oa=Symbol(""),Pt=new class extends Error{constructor(){super(...arguments);M(this,"name","StaleReactionError");M(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}},Dn=3,ht=8;function la(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function fa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ca(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ua(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function da(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ha(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function pa(){throw new Error("https://svelte.dev/e/hydration_failed")}function va(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ga(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _a(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ma(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function Gt(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function ya(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let S=!1;function Se(e){S=e}let x;function ee(e){if(e===null)throw Gt(),ct;return x=e}function Ft(){return ee(qe(x))}function Ve(e){if(S){if(qe(x)!==null)throw Gt(),ct;x=e}}function wa(e=1){if(S){for(var t=e,n=x;t--;)n=qe(n);x=n}}function yn(e=!0){for(var t=0,n=x;;){if(n.nodeType===ht){var i=n.data;if(i===jn){if(t===0)return n;t-=1}else(i===dr||i===dn)&&(t+=1)}var r=qe(n);e&&n.remove(),n=r}}function yr(e){if(!e||e.nodeType!==ht)throw Gt(),ct;return e.data}function wr(e){return e===this.v}function ba(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function br(e){return!ba(e,this.v)}let $a=!1,fe=null;function Mt(e){fe=e}function Ln(e,t=!1,n){fe={p:fe,i:!1,c:null,e:null,s:e,x:null,l:null}}function Bn(e){var t=fe,n=t.e;if(n!==null){t.e=null;for(var i of n)Br(i)}return e!==void 0&&(t.x=e),t.i=!0,fe=t.p,e??{}}function $r(){return!0}let pt=[];function Er(){var e=pt;pt=[],ra(e)}function wn(e){if(pt.length===0&&!Kt){var t=pt;queueMicrotask(()=>{t===pt&&Er()})}pt.push(e)}function Ea(){for(;pt.length>0;)Er()}function xr(e){var t=T;if(t===null)return k.f|=Qe,e;if((t.f&_n)===0){if((t.f&gn)===0)throw e;t.b.error(e)}else It(e,t)}function It(e,t){for(;t!==null;){if((t.f&gn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const bn=new Set;let q=null,I=null,pe=[],$n=null,Hn=!1,Kt=!1;const qn=class qn{constructor(){C(this,B);M(this,"committed",!1);M(this,"current",new Map);M(this,"previous",new Map);C(this,Bt,new Set);C(this,Ht,new Set);C(this,Et,0);C(this,xt,0);C(this,an,null);C(this,Yt,[]);C(this,Ut,[]);M(this,"skipped_effects",new Set);M(this,"is_fork",!1)}is_deferred(){return this.is_fork||c(this,xt)>0}process(t){var i;pe=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of t)R(this,B,or).call(this,r,n);this.is_fork||R(this,B,Ai).call(this),this.is_deferred()?(R(this,B,Nt).call(this,n.effects),R(this,B,Nt).call(this,n.render_effects),R(this,B,Nt).call(this,n.block_effects)):(q=null,Sr(n.render_effects),Sr(n.effects),(i=c(this,an))==null||i.resolve()),I=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&Qe)===0&&(this.current.set(t,t.v),I==null||I.set(t,t.v))}activate(){q=this,this.apply()}deactivate(){q===this&&(q=null,I=null)}flush(){if(this.activate(),pe.length>0){if(kr(),q!==null&&q!==this)return}else c(this,Et)===0&&this.process([]);this.deactivate()}discard(){for(const t of c(this,Ht))t(this);c(this,Ht).clear()}increment(t){y(this,Et,c(this,Et)+1),t&&y(this,xt,c(this,xt)+1)}decrement(t){y(this,Et,c(this,Et)-1),t&&y(this,xt,c(this,xt)-1),this.revive()}revive(){for(const t of c(this,Yt))Z(t,se),vt(t);for(const t of c(this,Ut))Z(t,Ye),vt(t);y(this,Yt,[]),y(this,Ut,[]),this.flush()}oncommit(t){c(this,Bt).add(t)}ondiscard(t){c(this,Ht).add(t)}settled(){return(c(this,an)??y(this,an,gr())).promise}static ensure(){if(q===null){const t=q=new qn;bn.add(q),Kt||qn.enqueue(()=>{q===t&&t.flush()})}return q}static enqueue(t){wn(t)}apply(){}};Bt=new WeakMap,Ht=new WeakMap,Et=new WeakMap,xt=new WeakMap,an=new WeakMap,Yt=new WeakMap,Ut=new WeakMap,B=new WeakSet,or=function(t,n){var u;t.f^=K;for(var i=t.first;i!==null;){var r=i.f,a=(r&(He|Xe))!==0,o=a&&(r&K)!==0,s=o||(r&le)!==0||this.skipped_effects.has(i);if((i.f&gn)!==0&&((u=i.b)!=null&&u.is_pending())&&(n={parent:n,effect:i,effects:[],render_effects:[],block_effects:[]}),!s&&i.fn!==null){a?i.f^=K:(r&Pn)!==0?n.effects.push(i):tn(i)&&((i.f&Be)!==0&&n.block_effects.push(i),nn(i));var l=i.first;if(l!==null){i=l;continue}}var f=i.parent;for(i=i.next;i===null&&f!==null;)f===n.effect&&(R(this,B,Nt).call(this,n.effects),R(this,B,Nt).call(this,n.render_effects),R(this,B,Nt).call(this,n.block_effects),n=n.parent),i=f.next,f=f.parent}},Nt=function(t){for(const n of t)((n.f&se)!==0?c(this,Yt):c(this,Ut)).push(n),R(this,B,lr).call(this,n.deps),Z(n,K)},lr=function(t){if(t!==null)for(const n of t)(n.f&J)===0||(n.f&dt)===0||(n.f^=dt,R(this,B,lr).call(this,n.deps))},Ai=function(){if(c(this,xt)===0){for(const t of c(this,Bt))t();c(this,Bt).clear()}c(this,Et)===0&&R(this,B,Oi).call(this)},Oi=function(){var a;if(bn.size>1){this.previous.clear();var t=I,n=!0,i={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const o of bn){if(o===this){n=!1;continue}const s=[];for(const[f,u]of this.current){if(o.current.has(f))if(n&&u!==o.current.get(f))o.current.set(f,u);else continue;s.push(f)}if(s.length===0)continue;const l=[...o.current.keys()].filter(f=>!this.current.has(f));if(l.length>0){var r=pe;pe=[];const f=new Set,u=new Map;for(const h of s)Cr(h,l,f,u);if(pe.length>0){q=o,o.apply();for(const h of pe)R(a=o,B,or).call(a,h,i);o.deactivate()}pe=r}}q=null,I=t}this.committed=!0,bn.delete(this)};let Re=qn;function ve(e){var t=Kt;Kt=!0;try{for(var n;;){if(Ea(),pe.length===0&&(q==null||q.flush(),pe.length===0))return $n=null,n;kr()}}finally{Kt=t}}function kr(){var e=wt;Hn=!0;var t=null;try{var n=0;for(kn(!0);pe.length>0;){var i=Re.ensure();if(n++>1e3){var r,a;xa()}i.process(pe),et.clear()}}finally{Hn=!1,kn(e),$n=null}}function xa(){try{ha()}catch(e){It(e,$n)}}let Ce=null;function Sr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(Ue|le))===0&&tn(i)&&(Ce=new Set,nn(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?Jr(i):i.fn=null),(Ce==null?void 0:Ce.size)>0)){et.clear();for(const r of Ce){if((r.f&(Ue|le))!==0)continue;const a=[r];let o=r.parent;for(;o!==null;)Ce.has(o)&&(Ce.delete(o),a.push(o)),o=o.parent;for(let s=a.length-1;s>=0;s--){const l=a[s];(l.f&(Ue|le))===0&&nn(l)}}Ce.clear()}}Ce=null}}function Cr(e,t,n,i){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const r of e.reactions){const a=r.f;(a&J)!==0?Cr(r,t,n,i):(a&(In|Be))!==0&&(a&se)===0&&Tr(r,t,i)&&(Z(r,se),vt(r))}}function Tr(e,t,n){const i=n.get(e);if(i!==void 0)return i;if(e.deps!==null)for(const r of e.deps){if(t.includes(r))return!0;if((r.f&J)!==0&&Tr(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function vt(e){for(var t=$n=e;t.parent!==null;){t=t.parent;var n=t.f;if(Hn&&t===T&&(n&Be)!==0&&(n&mr)===0)return;if((n&(Xe|He))!==0){if((n&K)===0)return;t.f^=K}}pe.push(t)}function ka(e){let t=0,n=gt(0),i;return()=>{Zt()&&(d(n),Jn(()=>(t===0&&(i=Kn(()=>e(()=>Xt(n)))),t+=1,()=>{wn(()=>{t-=1,t===0&&(i==null||i(),i=void 0,Xt(n))})})))}}var Sa=zt|ut|gn;function Ca(e,t,n){new Ta(e,t,n)}class Ta{constructor(t,n,i){C(this,D);M(this,"parent");C(this,be,!1);C(this,ue);C(this,sn,S?x:null);C(this,Pe);C(this,kt);C(this,Fe);C(this,$e,null);C(this,oe,null);C(this,Me,null);C(this,Ge,null);C(this,ot,null);C(this,St,0);C(this,lt,0);C(this,Ct,!1);C(this,ft,null);C(this,An,ka(()=>(y(this,ft,gt(c(this,St))),()=>{y(this,ft,null)})));y(this,ue,t),y(this,Pe,n),y(this,kt,i),this.parent=T.b,y(this,be,!!c(this,Pe).pending),y(this,Fe,Wn(()=>{if(T.b=this,S){const a=c(this,sn);Ft(),a.nodeType===ht&&a.data===dn?R(this,D,Ri).call(this):R(this,D,Ni).call(this)}else{var r=R(this,D,fr).call(this);try{y(this,$e,_e(()=>i(r)))}catch(a){this.error(a)}c(this,lt)>0?R(this,D,Rn).call(this):y(this,be,!1)}return()=>{var a;(a=c(this,ot))==null||a.remove()}},Sa)),S&&y(this,ue,x)}is_pending(){return c(this,be)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!c(this,Pe).pending}update_pending_count(t){R(this,D,cr).call(this,t),y(this,St,c(this,St)+t),c(this,ft)&&Dt(c(this,ft),c(this,St))}get_effect_pending(){return c(this,An).call(this),d(c(this,ft))}error(t){var n=c(this,Pe).onerror;let i=c(this,Pe).failed;if(c(this,Ct)||!n&&!i)throw t;c(this,$e)&&(te(c(this,$e)),y(this,$e,null)),c(this,oe)&&(te(c(this,oe)),y(this,oe,null)),c(this,Me)&&(te(c(this,Me)),y(this,Me,null)),S&&(ee(c(this,sn)),wa(),ee(yn()));var r=!1,a=!1;const o=()=>{if(r){ya();return}r=!0,a&&ma(),Re.ensure(),y(this,St,0),c(this,Me)!==null&&yt(c(this,Me),()=>{y(this,Me,null)}),y(this,be,this.has_pending_snippet()),y(this,$e,R(this,D,Nn).call(this,()=>(y(this,Ct,!1),_e(()=>c(this,kt).call(this,c(this,ue)))))),c(this,lt)>0?R(this,D,Rn).call(this):y(this,be,!1)};var s=k;try{X(null),a=!0,n==null||n(t,o),a=!1}catch(l){It(l,c(this,Fe)&&c(this,Fe).parent)}finally{X(s)}i&&wn(()=>{y(this,Me,R(this,D,Nn).call(this,()=>{Re.ensure(),y(this,Ct,!0);try{return _e(()=>{i(c(this,ue),()=>t,()=>o)})}catch(l){return It(l,c(this,Fe).parent),null}finally{y(this,Ct,!1)}}))})}}be=new WeakMap,ue=new WeakMap,sn=new WeakMap,Pe=new WeakMap,kt=new WeakMap,Fe=new WeakMap,$e=new WeakMap,oe=new WeakMap,Me=new WeakMap,Ge=new WeakMap,ot=new WeakMap,St=new WeakMap,lt=new WeakMap,Ct=new WeakMap,ft=new WeakMap,An=new WeakMap,D=new WeakSet,Ni=function(){try{y(this,$e,_e(()=>c(this,kt).call(this,c(this,ue))))}catch(t){this.error(t)}y(this,be,!1)},Ri=function(){const t=c(this,Pe).pending;t&&(y(this,oe,_e(()=>t(c(this,ue)))),Re.enqueue(()=>{var n=R(this,D,fr).call(this);y(this,$e,R(this,D,Nn).call(this,()=>(Re.ensure(),_e(()=>c(this,kt).call(this,n))))),c(this,lt)>0?R(this,D,Rn).call(this):(yt(c(this,oe),()=>{y(this,oe,null)}),y(this,be,!1))}))},fr=function(){var t=c(this,ue);return c(this,be)&&(y(this,ot,ge()),c(this,ue).before(c(this,ot)),t=c(this,ot)),t},Nn=function(t){var n=T,i=k,r=fe;me(c(this,Fe)),X(c(this,Fe)),Mt(c(this,Fe).ctx);try{return t()}catch(a){return xr(a),null}finally{me(n),X(i),Mt(r)}},Rn=function(){const t=c(this,Pe).pending;c(this,$e)!==null&&(y(this,Ge,document.createDocumentFragment()),c(this,Ge).append(c(this,ot)),Kr(c(this,$e),c(this,Ge))),c(this,oe)===null&&y(this,oe,_e(()=>t(c(this,ue))))},cr=function(t){var n;if(!this.has_pending_snippet()){this.parent&&R(n=this.parent,D,cr).call(n,t);return}y(this,lt,c(this,lt)+t),c(this,lt)===0&&(y(this,be,!1),c(this,oe)&&yt(c(this,oe),()=>{y(this,oe,null)}),c(this,Ge)&&(c(this,ue).before(c(this,Ge)),y(this,Ge,null)))};function qa(e,t,n,i){const r=xn;if(n.length===0&&e.length===0){i(t.map(r));return}var a=q,o=T,s=Aa();function l(){Promise.all(n.map(f=>Oa(f))).then(f=>{s();try{i([...t.map(r),...f])}catch(u){(o.f&Ue)===0&&It(u,o)}a==null||a.deactivate(),En()}).catch(f=>{It(f,o)})}e.length>0?Promise.all(e).then(()=>{s();try{return l()}finally{a==null||a.deactivate(),En()}}):l()}function Aa(){var e=T,t=k,n=fe,i=q;return function(a=!0){me(e),X(t),Mt(n),a&&(i==null||i.activate())}}function En(){me(null),X(null),Mt(null)}function xn(e){var t=J|se,n=k!==null&&(k.f&J)!==0?k:null;return T!==null&&(T.f|=ut),{ctx:fe,deps:null,effects:null,equals:wr,f:t,fn:e,reactions:null,rv:0,v:G,wv:0,parent:n??T,ac:null}}function Oa(e,t){let n=T;n===null&&fa();var i=n.b,r=void 0,a=gt(G),o=!k,s=new Map;return La(()=>{var v;var l=gr();r=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{f===q&&f.committed&&f.deactivate(),En()})}catch(g){l.reject(g),En()}var f=q;if(o){var u=!i.is_pending();i.update_pending_count(1),f.increment(u),(v=s.get(f))==null||v.reject(Pt),s.delete(f),s.set(f,l)}const h=(g,p=void 0)=>{if(f.activate(),p)p!==Pt&&(a.f|=Qe,Dt(a,p));else{(a.f&Qe)!==0&&(a.f^=Qe),Dt(a,g);for(const[E,b]of s){if(s.delete(E),E===f)break;b.reject(Pt)}}o&&(i.update_pending_count(-1),f.decrement(u))};l.promise.then(h,g=>h(null,g||"unknown"))}),Ma(()=>{for(const l of s.values())l.reject(Pt)}),new Promise(l=>{function f(u){function h(){u===r?l(a):f(r)}u.then(h,h)}f(r)})}function Na(e){const t=xn(e);return Zr(t),t}function Ra(e){const t=xn(e);return t.equals=br,t}function qr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)te(t[n])}}function ja(e){for(var t=e.parent;t!==null;){if((t.f&J)===0)return(t.f&Ue)===0?t:null;t=t.parent}return null}function Yn(e){var t,n=T;me(ja(e));try{e.f&=~dt,qr(e),t=ri(e)}finally{me(n)}return t}function Ar(e){var t=Yn(e);if(e.equals(t)||(q!=null&&q.is_fork||(e.v=t),e.wv=ti()),!bt)if(I!==null)(Zt()||q!=null&&q.is_fork)&&I.set(e,t);else{var n=(e.f&ke)===0?Ye:K;Z(e,n)}}let Un=new Set;const et=new Map;let Or=!1;function gt(e,t){var n={f:0,v:e,reactions:null,equals:wr,rv:0,wv:0};return n}function j(e,t){const n=gt(e);return Zr(n),n}function Nr(e,t=!1,n=!0){const i=gt(e);return t||(i.equals=br),i}function w(e,t,n=!1){k!==null&&(!ze||(k.f&_r)!==0)&&$r()&&(k.f&(J|Be|In|_r))!==0&&!(ne!=null&&ne.includes(e))&&_a();let i=n?_t(t):t;return Dt(e,i)}function Dt(e,t){if(!e.equals(t)){var n=e.v;bt?et.set(e,t):et.set(e,n),e.v=t;var i=Re.ensure();i.capture(e,n),(e.f&J)!==0&&((e.f&se)!==0&&Yn(e),Z(e,(e.f&ke)!==0?K:Ye)),e.wv=ti(),Rr(e,se),T!==null&&(T.f&K)!==0&&(T.f&(He|Xe))===0&&(ye===null?Ha([e]):ye.push(e)),!i.is_fork&&Un.size>0&&!Or&&za()}return t}function za(){Or=!1;var e=wt;kn(!0);const t=Array.from(Un);try{for(const n of t)(n.f&K)!==0&&Z(n,Ye),tn(n)&&nn(n)}finally{kn(e)}Un.clear()}function Xt(e){w(e,e.v+1)}function Rr(e,t){var n=e.reactions;if(n!==null)for(var i=n.length,r=0;r<i;r++){var a=n[r],o=a.f,s=(o&se)===0;if(s&&Z(a,t),(o&J)!==0){var l=a;I==null||I.delete(l),(o&dt)===0&&(o&ke&&(a.f|=dt),Rr(l,Ye))}else s&&((o&Be)!==0&&Ce!==null&&Ce.add(a),vt(a))}}function _t(e){if(typeof e!="object"||e===null||mn in e)return e;const t=pr(e);if(t!==ta&&t!==na)return e;var n=new Map,i=hr(e),r=j(0),a=$t,o=s=>{if($t===a)return s();var l=k,f=$t;X(null),ei(a);var u=s();return X(l),ei(f),u};return i&&n.set("length",j(e.length)),new Proxy(e,{defineProperty(s,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&va();var u=n.get(l);return u===void 0?u=o(()=>{var h=j(f.value);return n.set(l,h),h}):w(u,f.value,!0),!0},deleteProperty(s,l){var f=n.get(l);if(f===void 0){if(l in s){const u=o(()=>j(G));n.set(l,u),Xt(r)}}else w(f,G),Xt(r);return!0},get(s,l,f){var g;if(l===mn)return e;var u=n.get(l),h=l in s;if(u===void 0&&(!h||(g=jt(s,l))!=null&&g.writable)&&(u=o(()=>{var p=_t(h?s[l]:G),E=j(p);return E}),n.set(l,u)),u!==void 0){var v=d(u);return v===G?void 0:v}return Reflect.get(s,l,f)},getOwnPropertyDescriptor(s,l){var f=Reflect.getOwnPropertyDescriptor(s,l);if(f&&"value"in f){var u=n.get(l);u&&(f.value=d(u))}else if(f===void 0){var h=n.get(l),v=h==null?void 0:h.v;if(h!==void 0&&v!==G)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(s,l){var v;if(l===mn)return!0;var f=n.get(l),u=f!==void 0&&f.v!==G||Reflect.has(s,l);if(f!==void 0||T!==null&&(!u||(v=jt(s,l))!=null&&v.writable)){f===void 0&&(f=o(()=>{var g=u?_t(s[l]):G,p=j(g);return p}),n.set(l,f));var h=d(f);if(h===G)return!1}return u},set(s,l,f,u){var m;var h=n.get(l),v=l in s;if(i&&l==="length")for(var g=f;g<h.v;g+=1){var p=n.get(g+"");p!==void 0?w(p,G):g in s&&(p=o(()=>j(G)),n.set(g+"",p))}if(h===void 0)(!v||(m=jt(s,l))!=null&&m.writable)&&(h=o(()=>j(void 0)),w(h,_t(f)),n.set(l,h));else{v=h.v!==G;var E=o(()=>_t(f));w(h,E)}var b=Reflect.getOwnPropertyDescriptor(s,l);if(b!=null&&b.set&&b.set.call(u,f),!v){if(i&&typeof l=="string"){var z=n.get("length"),H=Number(l);Number.isInteger(H)&&H>=z.v&&w(z,H+1)}Xt(r)}return!0},ownKeys(s){d(r);var l=Reflect.ownKeys(s).filter(h=>{var v=n.get(h);return v===void 0||v.v!==G});for(var[f,u]of n)u.v!==G&&!(f in s)&&l.push(f);return l},setPrototypeOf(){ga()}})}var jr,zr,Pr,Fr;function Vn(){if(jr===void 0){jr=window,zr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Pr=jt(t,"firstChild").get,Fr=jt(t,"nextSibling").get,vr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),vr(n)&&(n.__t=void 0)}}function ge(e=""){return document.createTextNode(e)}function Te(e){return Pr.call(e)}function qe(e){return Fr.call(e)}function tt(e,t){if(!S)return Te(e);var n=Te(x);if(n===null)n=x.appendChild(ge());else if(t&&n.nodeType!==Dn){var i=ge();return n==null||n.before(i),ee(i),i}return ee(n),n}function Mr(e,t=!1){if(!S){var n=Te(e);return n instanceof Comment&&n.data===""?qe(n):n}if(t&&(x==null?void 0:x.nodeType)!==Dn){var i=ge();return x==null||x.before(i),ee(i),i}return x}function mt(e,t=1,n=!1){let i=S?x:e;for(var r;t--;)r=i,i=qe(i);if(!S)return i;if(n&&(i==null?void 0:i.nodeType)!==Dn){var a=ge();return i===null?r==null||r.after(a):i.before(a),ee(a),a}return ee(i),i}function Ir(e){e.textContent=""}function Dr(){return!1}function Lr(e){var t=k,n=T;X(null),me(null);try{return e()}finally{X(t),me(n)}}function Pa(e){T===null&&(k===null&&da(),ua()),bt&&ca()}function Fa(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function je(e,t,n){var i=T;i!==null&&(i.f&le)!==0&&(e|=le);var r={ctx:fe,deps:null,nodes:null,f:e|se|ke,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{nn(r),r.f|=_n}catch(s){throw te(r),s}else t!==null&&vt(r);var a=r;if(n&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&ut)===0&&(a=a.first,(e&Be)!==0&&(e&zt)!==0&&a!==null&&(a.f|=zt)),a!==null&&(a.parent=i,i!==null&&Fa(a,i),k!==null&&(k.f&J)!==0&&(e&Xe)===0)){var o=k;(o.effects??(o.effects=[])).push(a)}return r}function Zt(){return k!==null&&!ze}function Ma(e){const t=je(Fn,null,!1);return Z(t,K),t.teardown=e,t}function Qt(e){Pa();var t=T.f,n=!k&&(t&He)!==0&&(t&_n)===0;if(n){var i=fe;(i.e??(i.e=[])).push(e)}else return Br(e)}function Br(e){return je(Pn|aa,e,!1)}function Ia(e){Re.ensure();const t=je(Xe|ut,e,!0);return()=>{te(t)}}function Da(e){Re.ensure();const t=je(Xe|ut,e,!0);return(n={})=>new Promise(i=>{n.outro?yt(t,()=>{te(t),i(void 0)}):(te(t),i(void 0))})}function Hr(e){return je(Pn,e,!1)}function La(e){return je(In|ut,e,!0)}function Jn(e,t=0){return je(Fn|t,e,!0)}function Je(e,t=[],n=[],i=[]){qa(i,t,n,r=>{je(Fn,()=>e(...r.map(d)),!0)})}function Wn(e,t=0){var n=je(Be|t,e,!0);return n}function _e(e){return je(He|ut,e,!0)}function Yr(e){var t=e.teardown;if(t!==null){const n=bt,i=k;Xr(!0),X(null);try{t.call(null)}finally{Xr(n),X(i)}}}function Ur(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&Lr(()=>{r.abort(Pt)});var i=n.next;(n.f&Xe)!==0?n.parent=null:te(n,t),n=i}}function Ba(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&He)===0&&te(t),t=n}}function te(e,t=!0){var n=!1;(t||(e.f&mr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Vr(e.nodes.start,e.nodes.end),n=!0),Ur(e,t&&!n),Sn(e,0),Z(e,Ue);var i=e.nodes&&e.nodes.t;if(i!==null)for(const a of i)a.stop();Yr(e);var r=e.parent;r!==null&&r.first!==null&&Jr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Vr(e,t){for(;e!==null;){var n=e===t?null:qe(e);e.remove(),e=n}}function Jr(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function yt(e,t,n=!0){var i=[];Wr(e,i,!0);var r=()=>{n&&te(e),t&&t()},a=i.length;if(a>0){var o=()=>--a||r();for(var s of i)s.out(o)}else r()}function Wr(e,t,n){if((e.f&le)===0){e.f^=le;var i=e.nodes&&e.nodes.t;if(i!==null)for(const s of i)(s.is_global||n)&&t.push(s);for(var r=e.first;r!==null;){var a=r.next,o=(r.f&zt)!==0||(r.f&He)!==0&&(e.f&Be)!==0;Wr(r,t,o?n:!1),r=a}}}function Gn(e){Gr(e,!0)}function Gr(e,t){if((e.f&le)!==0){e.f^=le,(e.f&K)===0&&(Z(e,se),vt(e));for(var n=e.first;n!==null;){var i=n.next,r=(n.f&zt)!==0||(n.f&He)!==0;Gr(n,r?t:!1),n=i}var a=e.nodes&&e.nodes.t;if(a!==null)for(const o of a)(o.is_global||t)&&o.in()}}function Kr(e,t){if(e.nodes)for(var n=e.nodes.start,i=e.nodes.end;n!==null;){var r=n===i?null:qe(n);t.append(n),n=r}}let wt=!1;function kn(e){wt=e}let bt=!1;function Xr(e){bt=e}let k=null,ze=!1;function X(e){k=e}let T=null;function me(e){T=e}let ne=null;function Zr(e){k!==null&&(ne===null?ne=[e]:ne.push(e))}let re=null,ce=0,ye=null;function Ha(e){ye=e}let Qr=1,en=0,$t=en;function ei(e){$t=e}function ti(){return++Qr}function tn(e){var t=e.f;if((t&se)!==0)return!0;if(t&J&&(e.f&=~dt),(t&Ye)!==0){var n=e.deps;if(n!==null)for(var i=n.length,r=0;r<i;r++){var a=n[r];if(tn(a)&&Ar(a),a.wv>e.wv)return!0}(t&ke)!==0&&I===null&&Z(e,K)}return!1}function ni(e,t,n=!0){var i=e.reactions;if(i!==null&&!(ne!=null&&ne.includes(e)))for(var r=0;r<i.length;r++){var a=i[r];(a.f&J)!==0?ni(a,t,!1):t===a&&(n?Z(a,se):(a.f&K)!==0&&Z(a,Ye),vt(a))}}function ri(e){var p;var t=re,n=ce,i=ye,r=k,a=ne,o=fe,s=ze,l=$t,f=e.f;re=null,ce=0,ye=null,k=(f&(He|Xe))===0?e:null,ne=null,Mt(e.ctx),ze=!1,$t=++en,e.ac!==null&&(Lr(()=>{e.ac.abort(Pt)}),e.ac=null);try{e.f|=Mn;var u=e.fn,h=u(),v=e.deps;if(re!==null){var g;if(Sn(e,ce),v!==null&&ce>0)for(v.length=ce+re.length,g=0;g<re.length;g++)v[ce+g]=re[g];else e.deps=v=re;if(Zt()&&(e.f&ke)!==0)for(g=ce;g<v.length;g++)((p=v[g]).reactions??(p.reactions=[])).push(e)}else v!==null&&ce<v.length&&(Sn(e,ce),v.length=ce);if($r()&&ye!==null&&!ze&&v!==null&&(e.f&(J|Ye|se))===0)for(g=0;g<ye.length;g++)ni(ye[g],e);return r!==null&&r!==e&&(en++,ye!==null&&(i===null?i=ye:i.push(...ye))),(e.f&Qe)!==0&&(e.f^=Qe),h}catch(E){return xr(E)}finally{e.f^=Mn,re=t,ce=n,ye=i,k=r,ne=a,Mt(o),ze=s,$t=l}}function Ya(e,t){let n=t.reactions;if(n!==null){var i=Qi.call(n,e);if(i!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[i]=n[r],n.pop())}}n===null&&(t.f&J)!==0&&(re===null||!re.includes(t))&&(Z(t,Ye),(t.f&ke)!==0&&(t.f^=ke,t.f&=~dt),qr(t),Sn(t,0))}function Sn(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Ya(e,n[i])}function nn(e){var t=e.f;if((t&Ue)===0){Z(e,K);var n=T,i=wt;T=e,wt=!0;try{(t&(Be|ia))!==0?Ba(e):Ur(e),Yr(e);var r=ri(e);e.teardown=typeof r=="function"?r:null,e.wv=Qr;var a;zn&&$a&&(e.f&se)!==0&&e.deps}finally{wt=i,T=n}}}function d(e){var t=e.f,n=(t&J)!==0;if(k!==null&&!ze){var i=T!==null&&(T.f&Ue)!==0;if(!i&&!(ne!=null&&ne.includes(e))){var r=k.deps;if((k.f&Mn)!==0)e.rv<en&&(e.rv=en,re===null&&r!==null&&r[ce]===e?ce++:re===null?re=[e]:re.includes(e)||re.push(e));else{(k.deps??(k.deps=[])).push(e);var a=e.reactions;a===null?e.reactions=[k]:a.includes(k)||a.push(k)}}}if(bt){if(et.has(e))return et.get(e);if(n){var o=e,s=o.v;return((o.f&K)===0&&o.reactions!==null||ai(o))&&(s=Yn(o)),et.set(o,s),s}}else n&&(!(I!=null&&I.has(e))||q!=null&&q.is_fork&&!Zt())&&(o=e,tn(o)&&Ar(o),wt&&Zt()&&(o.f&ke)===0&&ii(o));if(I!=null&&I.has(e))return I.get(e);if((e.f&Qe)!==0)throw e.v;return e.v}function ii(e){if(e.deps!==null){e.f^=ke;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&J)!==0&&(t.f&ke)===0&&ii(t)}}function ai(e){if(e.v===G)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(et.has(t)||(t.f&J)!==0&&ai(t))return!0;return!1}function Kn(e){var t=ze;try{return ze=!0,e()}finally{ze=t}}const Ua=-7169;function Z(e,t){e.f=e.f&Ua|t}const si=new Set,Xn=new Set;function Va(e){for(var t=0;t<e.length;t++)si.add(e[t]);for(var n of Xn)n(e)}let oi=null;function Cn(e){var b;var t=this,n=t.ownerDocument,i=e.type,r=((b=e.composedPath)==null?void 0:b.call(e))||[],a=r[0]||e.target;oi=e;var o=0,s=oi===e&&e.__root;if(s){var l=r.indexOf(s);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=r.indexOf(t);if(f===-1)return;l<=f&&(o=l)}if(a=r[o]||e.target,a!==t){vn(e,"currentTarget",{configurable:!0,get(){return a||n}});var u=k,h=T;X(null),me(null);try{for(var v,g=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var E=a["__"+i];E!=null&&(!a.disabled||e.target===a)&&E.call(a,e)}catch(z){v?g.push(z):v=z}if(e.cancelBubble||p===t||p===null)break;a=p}if(v){for(let z of g)queueMicrotask(()=>{throw z});throw v}}finally{e.__root=t,delete e.currentTarget,X(u),me(h)}}}function li(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function nt(e,t){var n=T;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function We(e,t){var n=(t&Ki)!==0,i=(t&Xi)!==0,r,a=!e.startsWith("<!>");return()=>{if(S)return nt(x,null),x;r===void 0&&(r=li(a?e:"<!>"+e),n||(r=Te(r)));var o=i||zr?document.importNode(r,!0):r.cloneNode(!0);if(n){var s=Te(o),l=o.lastChild;nt(s,l)}else nt(o,o);return o}}function fi(){if(S)return nt(x,null),x;var e=document.createDocumentFragment(),t=document.createComment(""),n=ge();return e.append(t,n),nt(t,n),e}function we(e,t){if(S){var n=T;((n.f&_n)===0||n.nodes.end===null)&&(n.nodes.end=x),Ft();return}e!==null&&e.before(t)}const Ja=["touchstart","touchmove"];function Wa(e){return Ja.includes(e)}function Ga(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function ci(e,t){return ui(e,t)}function Ka(e,t){Vn(),t.intro=t.intro??!1;const n=t.target,i=S,r=x;try{for(var a=Te(n);a&&(a.nodeType!==ht||a.data!==dr);)a=qe(a);if(!a)throw ct;Se(!0),ee(a);const o=ui(e,{...t,anchor:a});return Se(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(s=>s.startsWith("https://svelte.dev/e/")))throw o;return o!==ct&&console.warn("Failed to hydrate: ",o),t.recover===!1&&pa(),Vn(),Ir(n),Se(!1),ci(e,t)}finally{Se(i),ee(r)}}const Lt=new Map;function ui(e,{target:t,anchor:n,props:i={},events:r,context:a,intro:o=!0}){Vn();var s=new Set,l=h=>{for(var v=0;v<h.length;v++){var g=h[v];if(!s.has(g)){s.add(g);var p=Wa(g);t.addEventListener(g,Cn,{passive:p});var E=Lt.get(g);E===void 0?(document.addEventListener(g,Cn,{passive:p}),Lt.set(g,1)):Lt.set(g,E+1)}}};l(hn(si)),Xn.add(l);var f=void 0,u=Da(()=>{var h=n??t.appendChild(ge());return Ca(h,{pending:()=>{}},v=>{if(a){Ln({});var g=fe;g.c=a}if(r&&(i.$$events=r),S&&nt(v,null),f=e(v,i)||{},S&&(T.nodes.end=x,x===null||x.nodeType!==ht||x.data!==jn))throw Gt(),ct;a&&Bn()}),()=>{var p;for(var v of s){t.removeEventListener(v,Cn);var g=Lt.get(v);--g===0?(document.removeEventListener(v,Cn),Lt.delete(v)):Lt.set(v,g)}Xn.delete(l),h!==n&&((p=h.parentNode)==null||p.removeChild(h))}});return Zn.set(f,u),f}let Zn=new WeakMap;function Xa(e,t){const n=Zn.get(e);return n?(Zn.delete(e),n(t)):Promise.resolve()}class Za{constructor(t,n=!0){M(this,"anchor");C(this,Ne,new Map);C(this,Ie,new Map);C(this,de,new Map);C(this,Tt,new Set);C(this,on,!0);C(this,ln,()=>{var t=q;if(c(this,Ne).has(t)){var n=c(this,Ne).get(t),i=c(this,Ie).get(n);if(i)Gn(i),c(this,Tt).delete(n);else{var r=c(this,de).get(n);r&&(c(this,Ie).set(n,r.effect),c(this,de).delete(n),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),i=r.effect)}for(const[a,o]of c(this,Ne)){if(c(this,Ne).delete(a),a===t)break;const s=c(this,de).get(o);s&&(te(s.effect),c(this,de).delete(o))}for(const[a,o]of c(this,Ie)){if(a===n||c(this,Tt).has(a))continue;const s=()=>{if(Array.from(c(this,Ne).values()).includes(a)){var f=document.createDocumentFragment();Kr(o,f),f.append(ge()),c(this,de).set(a,{effect:o,fragment:f})}else te(o);c(this,Tt).delete(a),c(this,Ie).delete(a)};c(this,on)||!i?(c(this,Tt).add(a),yt(o,s,!1)):s()}}});C(this,On,t=>{c(this,Ne).delete(t);const n=Array.from(c(this,Ne).values());for(const[i,r]of c(this,de))n.includes(i)||(te(r.effect),c(this,de).delete(i))});this.anchor=t,y(this,on,n)}ensure(t,n){var i=q,r=Dr();if(n&&!c(this,Ie).has(t)&&!c(this,de).has(t))if(r){var a=document.createDocumentFragment(),o=ge();a.append(o),c(this,de).set(t,{effect:_e(()=>n(o)),fragment:a})}else c(this,Ie).set(t,_e(()=>n(this.anchor)));if(c(this,Ne).set(i,t),r){for(const[s,l]of c(this,Ie))s===t?i.skipped_effects.delete(l):i.skipped_effects.add(l);for(const[s,l]of c(this,de))s===t?i.skipped_effects.delete(l.effect):i.skipped_effects.add(l.effect);i.oncommit(c(this,ln)),i.ondiscard(c(this,On))}else S&&(this.anchor=x),c(this,ln).call(this)}}Ne=new WeakMap,Ie=new WeakMap,de=new WeakMap,Tt=new WeakMap,on=new WeakMap,ln=new WeakMap,On=new WeakMap;function di(e){fe===null&&la(),Qt(()=>{const t=Kn(e);if(typeof t=="function")return t})}function rt(e,t,n=!1){S&&Ft();var i=new Za(e),r=n?zt:0;function a(o,s){if(S){const f=yr(e)===dn;if(o===f){var l=yn();ee(l),i.anchor=l,Se(!1),i.ensure(o,s),Se(!0);return}}i.ensure(o,s)}Wn(()=>{var o=!1;t((s,l=!0)=>{o=!0,a(l,s)}),o||a(!1,null)},r)}function Qa(e,t,n){for(var i=[],r=t.length,a,o=t.length,s=0;s<r;s++){let h=t[s];yt(h,()=>{if(a){if(a.pending.delete(h),a.done.add(h),a.pending.size===0){var v=e.outrogroups;Qn(hn(a.done)),v.delete(a),v.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var l=i.length===0&&n!==null;if(l){var f=n,u=f.parentNode;Ir(u),u.append(f),e.items.clear()}Qn(t,!l)}else a={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(a)}function Qn(e,t=!0){for(var n=0;n<e.length;n++)te(e[n],t)}var hi;function es(e,t,n,i,r,a=null){var o=e,s=new Map;{var l=e;o=S?ee(Te(l)):l.appendChild(ge())}S&&Ft();var f=null,u=Ra(()=>{var b=n();return hr(b)?b:b==null?[]:hn(b)}),h,v=!0;function g(){E.fallback=f,ts(E,h,o,t,i),f!==null&&(h.length===0?(f.f&Ze)===0?Gn(f):(f.f^=Ze,rn(f,null,o)):yt(f,()=>{f=null}))}var p=Wn(()=>{h=d(u);var b=h.length;let z=!1;if(S){var H=yr(o)===dn;H!==(b===0)&&(o=yn(),ee(o),Se(!1),z=!0)}for(var m=new Set,W=q,ie=Dr(),F=0;F<b;F+=1){S&&x.nodeType===ht&&x.data===jn&&(o=x,z=!0,Se(!1));var Y=h[F],De=i(Y,F),U=v?null:s.get(De);U?(U.v&&Dt(U.v,Y),U.i&&Dt(U.i,F),ie&&W.skipped_effects.delete(U.e)):(U=ns(s,v?o:hi??(hi=ge()),Y,De,F,r,t,n),v||(U.e.f|=Ze),s.set(De,U)),m.add(De)}if(b===0&&a&&!f&&(v?f=_e(()=>a(o)):(f=_e(()=>a(hi??(hi=ge()))),f.f|=Ze)),S&&b>0&&ee(yn()),!v)if(ie){for(const[qt,At]of s)m.has(qt)||W.skipped_effects.add(At.e);W.oncommit(g),W.ondiscard(()=>{})}else g();z&&Se(!0),d(u)}),E={effect:p,items:s,outrogroups:null,fallback:f};v=!1,S&&(o=x)}function ts(e,t,n,i,r){var De;var a=t.length,o=e.items,s=e.effect.first,l,f=null,u=[],h=[],v,g,p,E;for(E=0;E<a;E+=1){if(v=t[E],g=r(v,E),p=o.get(g).e,e.outrogroups!==null)for(const U of e.outrogroups)U.pending.delete(p),U.done.delete(p);if((p.f&Ze)!==0)if(p.f^=Ze,p===s)rn(p,null,n);else{var b=f?f.next:s;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),it(e,f,p),it(e,p,b),rn(p,b,n),f=p,u=[],h=[],s=f.next;continue}if((p.f&le)!==0&&Gn(p),p!==s){if(l!==void 0&&l.has(p)){if(u.length<h.length){var z=h[0],H;f=z.prev;var m=u[0],W=u[u.length-1];for(H=0;H<u.length;H+=1)rn(u[H],z,n);for(H=0;H<h.length;H+=1)l.delete(h[H]);it(e,m.prev,W.next),it(e,f,m),it(e,W,z),s=z,f=W,E-=1,u=[],h=[]}else l.delete(p),rn(p,s,n),it(e,p.prev,p.next),it(e,p,f===null?e.effect.first:f.next),it(e,f,p),f=p;continue}for(u=[],h=[];s!==null&&s!==p;)(l??(l=new Set)).add(s),h.push(s),s=s.next;if(s===null)continue}(p.f&Ze)===0&&u.push(p),f=p,s=p.next}if(e.outrogroups!==null){for(const U of e.outrogroups)U.pending.size===0&&(Qn(hn(U.done)),(De=e.outrogroups)==null||De.delete(U));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||l!==void 0){var ie=[];if(l!==void 0)for(p of l)(p.f&le)===0&&ie.push(p);for(;s!==null;)(s.f&le)===0&&s!==e.fallback&&ie.push(s),s=s.next;var F=ie.length;if(F>0){var Y=a===0?n:null;Qa(e,ie,Y)}}}function ns(e,t,n,i,r,a,o,s){var l=(o&Ji)!==0?(o&Gi)===0?Nr(n,!1,!1):gt(n):null,f=(o&Wi)!==0?gt(r):null;return{v:l,i:f,e:_e(()=>(a(t,l??n,f??r,s),()=>{e.delete(i)}))}}function rn(e,t,n){if(e.nodes)for(var i=e.nodes.start,r=e.nodes.end,a=t&&(t.f&Ze)===0?t.nodes.start:n;i!==null;){var o=qe(i);if(a.before(i),i===r)return;i=o}}function it(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function rs(e,t,n=!1,i=!1,r=!1){var a=e,o="";Je(()=>{var s=T;if(o===(o=t()??"")){S&&Ft();return}if(s.nodes!==null&&(Vr(s.nodes.start,s.nodes.end),s.nodes=null),o!==""){if(S){x.data;for(var l=Ft(),f=l;l!==null&&(l.nodeType!==ht||l.data!=="");)f=l,l=qe(l);if(l===null)throw Gt(),ct;nt(x,f),a=ee(l);return}var u=o+"";n?u=`<svg>${u}</svg>`:i&&(u=`<math>${u}</math>`);var h=li(u);if((n||i)&&(h=Te(h)),nt(Te(h),h.lastChild),n||i)for(;Te(h);)a.before(Te(h));else a.before(h)}})}function pi(e,t){Hr(()=>{var n=e.getRootNode(),i=n.host?n:n.head??n.ownerDocument.head;if(!i.querySelector("#"+t.hash)){const r=document.createElement("style");r.id=t.hash,r.textContent=t.code,i.appendChild(r)}})}function is(e,t,n){var i=e==null?"":""+e;return t&&(i=i?i+" "+t:t),i===""?null:i}function as(e,t){return e==null?null:String(e)}function Ae(e,t,n,i,r,a){var o=e.__className;if(S||o!==n||o===void 0){var s=is(n,i);(!S||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):e.className=s),e.__className=n}return a}function at(e,t,n,i){var r=e.__style;if(S||r!==t){var a=as(t);(!S||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=t}return i}const ss=Symbol("is custom element"),os=Symbol("is html");function vi(e,t,n,i){var r=ls(e);S&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=n)&&(t==="loading"&&(e[oa]=n),n==null?e.removeAttribute(t):typeof n!="string"&&_i(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function gi(e,t,n){var i=k,r=T;let a=S;S&&Se(!1),X(null),me(null);try{t!=="style"&&(er.has(e.getAttribute("is")||e.nodeName)||!customElements||customElements.get(e.getAttribute("is")||e.tagName.toLowerCase())?_i(e).includes(t):n&&typeof n=="object")?e[t]=n:vi(e,t,n==null?n:String(n))}finally{X(i),me(r),a&&Se(!0)}}function ls(e){return e.__attributes??(e.__attributes={[ss]:e.nodeName.includes("-"),[os]:e.namespaceURI===Zi})}var er=new Map;function _i(e){var t=e.getAttribute("is")||e.nodeName,n=er.get(t);if(n)return n;er.set(t,n=[]);for(var i,r=e,a=Element.prototype;a!==r;){i=ea(r);for(var o in i)i[o].set&&n.push(o);r=pr(r)}return n}function mi(e,t){return e===t||(e==null?void 0:e[mn])===t}function st(e={},t,n,i){return Hr(()=>{var r,a;return Jn(()=>{r=a,a=[],Kn(()=>{e!==n(...a)&&(t(e,...a),r&&mi(n(...r),e)&&t(null,...r))})}),()=>{wn(()=>{a&&mi(n(...a),e)&&t(null,...a)})}}),e}function Oe(e,t,n,i){var r=i,a=!0,o=()=>(a&&(a=!1,r=i),r),s;s=e[t],s===void 0&&i!==void 0&&(s=o());var l;l=()=>{var v=e[t];return v===void 0?o():(a=!0,v)};var f=!1,u=xn(()=>(f=!1,l())),h=T;return(function(v,g){if(arguments.length>0){const p=g?d(u):v;return w(u,p),f=!0,r!==void 0&&(r=p),v}return bt&&f||(h.f&Ue)!==0?u.v:d(u)})}function fs(e){return new cs(e)}class cs{constructor(t){C(this,Ke);C(this,Ee);var a;var n=new Map,i=(o,s)=>{var l=Nr(s,!1,!1);return n.set(o,l),l};const r=new Proxy({...t.props||{},$$events:{}},{get(o,s){return d(n.get(s)??i(s,Reflect.get(o,s)))},has(o,s){return s===sa?!0:(d(n.get(s)??i(s,Reflect.get(o,s))),Reflect.has(o,s))},set(o,s,l){return w(n.get(s)??i(s,l),l),Reflect.set(o,s,l)}});y(this,Ee,(t.hydrate?Ka:ci)(t.component,{target:t.target,anchor:t.anchor,props:r,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((a=t==null?void 0:t.props)!=null&&a.$$host)||t.sync===!1)&&ve(),y(this,Ke,r.$$events);for(const o of Object.keys(c(this,Ee)))o==="$set"||o==="$destroy"||o==="$on"||vn(this,o,{get(){return c(this,Ee)[o]},set(s){c(this,Ee)[o]=s},enumerable:!0});c(this,Ee).$set=o=>{Object.assign(r,o)},c(this,Ee).$destroy=()=>{Xa(c(this,Ee))}}$set(t){c(this,Ee).$set(t)}$on(t,n){c(this,Ke)[t]=c(this,Ke)[t]||[];const i=(...r)=>n.call(this,...r);return c(this,Ke)[t].push(i),()=>{c(this,Ke)[t]=c(this,Ke)[t].filter(r=>r!==i)}}$destroy(){c(this,Ee).$destroy()}}Ke=new WeakMap,Ee=new WeakMap;let yi;typeof HTMLElement=="function"&&(yi=class extends HTMLElement{constructor(t,n,i){super();M(this,"$$ctor");M(this,"$$s");M(this,"$$c");M(this,"$$cn",!1);M(this,"$$d",{});M(this,"$$r",!1);M(this,"$$p_d",{});M(this,"$$l",{});M(this,"$$l_u",new Map);M(this,"$$me");this.$$ctor=t,this.$$s=n,i&&this.attachShadow({mode:"open"})}addEventListener(t,n,i){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){const r=this.$$c.$on(t,n);this.$$l_u.set(n,r)}super.addEventListener(t,n,i)}removeEventListener(t,n,i){if(super.removeEventListener(t,n,i),this.$$c){const r=this.$$l_u.get(n);r&&(r(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(r){return a=>{const o=document.createElement("slot");r!=="default"&&(o.name=r),we(a,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const n={},i=us(this);for(const r of this.$$s)r in i&&(r==="default"&&!this.$$d.children?(this.$$d.children=t(r),n.default=!0):n[r]=t(r));for(const r of this.attributes){const a=this.$$g_p(r.name);a in this.$$d||(this.$$d[a]=Tn(a,r.value,this.$$p_d,"toProp"))}for(const r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=fs({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$host:this}}),this.$$me=Ia(()=>{Jn(()=>{var r;this.$$r=!0;for(const a of pn(this.$$c)){if(!((r=this.$$p_d[a])!=null&&r.reflect))continue;this.$$d[a]=this.$$c[a];const o=Tn(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1})});for(const r in this.$$l)for(const a of this.$$l[r]){const o=this.$$c.$on(r,a);this.$$l_u.set(a,o)}this.$$l={}}}attributeChangedCallback(t,n,i){var r;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Tn(t,i,this.$$p_d,"toProp"),(r=this.$$c)==null||r.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return pn(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function Tn(e,t,n,i){var a;const r=(a=n[e])==null?void 0:a.type;if(t=r==="Boolean"&&typeof t!="boolean"?t!=null:t,!i||!n[e])return t;if(i==="toAttribute")switch(r){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(r){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function us(e){const t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}function wi(e,t,n,i,r,a){let o=class extends yi{constructor(){super(e,n,r),this.$$p_d=t}static get observedAttributes(){return pn(t).map(s=>(t[s].attribute||s).toLowerCase())}};return pn(t).forEach(s=>{vn(o.prototype,s,{get(){return this.$$c&&s in this.$$c?this.$$c[s]:this.$$d[s]},set(l){var h;l=Tn(s,l,t),this.$$d[s]=l;var f=this.$$c;if(f){var u=(h=jt(f,s))==null?void 0:h.get;u?f[s]=l:f.$set({[s]:l})}}})}),i.forEach(s=>{vn(o.prototype,s,{get(){var l;return(l=this.$$c)==null?void 0:l[s]}})}),a&&(o=a(o)),e.element=o,o}class tr extends Error{constructor(t,...n){super(...n),Error.captureStackTrace&&Error.captureStackTrace(this,tr),this.name="TimeoutError",this.timeout=t,this.message=`Timed out in ${t} ms.`}}const ds=(e,t)=>{const n=new Promise((i,r)=>{setTimeout(()=>{r(new tr(e))},e)});return Promise.race([t,n])},bi=e=>{if(typeof e.getCardSize=="function")try{return ds(500,e.getCardSize()).catch(()=>1)}catch{return 1}return customElements.get(e.localName)?1:customElements.whenDefined(e.localName).then(()=>bi(e))};var hs=We('<span class="loading svelte-lv9s7p">Loading...</span>'),ps=We("<div><!></div>");const vs={hash:"svelte-lv9s7p",code:`.loading.svelte-lv9s7p {padding:1em;display:block;}.animation.svelte-lv9s7p {hui-card {display:flex;flex-direction:column;}}.outer-container.animation.svelte-lv9s7p {transition:margin-bottom 0.35s ease;}.outer-container.animation.open.svelte-lv9s7p,
  .outer-container.animation.opening.svelte-lv9s7p {margin-bottom:inherit;}.outer-container.animation.close.svelte-lv9s7p,
  .outer-container.animation.closing.svelte-lv9s7p {margin-bottom:var(--expander-animation-height, -100%);}.outer-container.animation.opening.svelte-lv9s7p {
    animation: svelte-lv9s7p-fadeInOpacity 0.5s forwards ease;
    -webkit-animation: svelte-lv9s7p-fadeInOpacity 0.5s forwards ease;}.outer-container.animation.closing.svelte-lv9s7p {
      animation: svelte-lv9s7p-fadeOutOpacity 0.5s forwards ease;
      -webkit-animation: svelte-lv9s7p-fadeOutOpacity 0.5s forwards ease;}
  @keyframes svelte-lv9s7p-fadeInOpacity {
      0% {
          opacity: 0;
      }
      100% {
          opacity: 1;
      }
  }
  @-webkit-keyframes svelte-lv9s7p-fadeInOpacity {
      0% {
          opacity: 0;
      }
      100% {
          opacity: 1;
      }
  }
    @keyframes svelte-lv9s7p-fadeOutOpacity {
      0% {
          opacity: 1;
      }
      100% {
          opacity: 0;
      }
  }
  @-webkit-keyframes svelte-lv9s7p-fadeOutOpacity {
      0% {
          opacity: 1;
      }
      100% {
          opacity: 0;
      }
  }`};function nr(e,t){Ln(t,!0),pi(e,vs);const n=Oe(t,"config"),i=Oe(t,"hass"),r=Oe(t,"preview"),a=Oe(t,"marginTop",7,"0px"),o=Oe(t,"open"),s=Oe(t,"animation",7,!0),l=Oe(t,"animationState"),f=Oe(t,"clearCardCss",7,!1);let u=null,h=j(null),v=j(!0),g=j(0);const p=JSON.parse(JSON.stringify(n()));Qt(()=>{d(h)&&(d(h).hass=i())}),Qt(()=>{d(h)&&r()!==void 0&&(d(h).preview=r())}),Qt(()=>{var m;d(h)&&(p.disabled=!o(),(m=d(h)._element)==null||m.dispatchEvent(new CustomEvent("card-visibility-changed",{detail:{value:o()},bubbles:!0,composed:!1})))}),di(async()=>{const m=document.createElement("hui-card");m.hass=i(),m.preview=r(),p.disabled=!o(),m.config=p,m.load(),u==null||u.appendChild(m),w(h,m,!0),w(v,!1),d(h).addEventListener("ll-upgrade",W=>{var ie;W.stopPropagation(),(ie=d(h))!=null&&ie._element&&i()&&(d(h)._element.hass=i())},{capture:!0}),f()&&(m.style.setProperty("--ha-card-background","transparent"),m.style.setProperty("--ha-card-box-shadow","none"),m.style.setProperty("--ha-card-border-color","transparent"),m.style.setProperty("--ha-card-border-width","0px"),m.style.setProperty("--ha-card-border-radius","0px"),m.style.setProperty("--ha-card-backdrop-filter","none")),s()&&(w(g,await bi(m)*56),u&&w(g,d(g)+(window.getComputedStyle(u).marginTop?parseFloat(window.getComputedStyle(u).marginTop):0)),new ResizeObserver(ie=>{for(const F of ie)if(F.contentBoxSize){const Y=Array.isArray(F.contentBoxSize)?F.contentBoxSize[0]:F.contentBoxSize;Y.blockSize&&(w(g,Y.blockSize,!0),u&&w(g,d(g)+(window.getComputedStyle(u).marginTop?parseFloat(window.getComputedStyle(u).marginTop):0)))}else F.contentRect&&(w(g,F.contentRect.height,!0),u&&w(g,d(g)+(window.getComputedStyle(u).marginTop?parseFloat(window.getComputedStyle(u).marginTop):0)))}).observe(m))});var E={get config(){return n()},set config(m){n(m),ve()},get hass(){return i()},set hass(m){i(m),ve()},get preview(){return r()},set preview(m){r(m),ve()},get marginTop(){return a()},set marginTop(m="0px"){a(m),ve()},get open(){return o()},set open(m){o(m),ve()},get animation(){return s()},set animation(m=!0){s(m),ve()},get animationState(){return l()},set animationState(m){l(m),ve()},get clearCardCss(){return f()},set clearCardCss(m=!1){f(m),ve()}},b=ps(),z=tt(b);{var H=m=>{var W=hs();we(m,W)};rt(z,m=>{d(v)&&m(H)})}return Ve(b),st(b,m=>u=m,()=>u),Je(()=>{Ae(b,1,`outer-container${o()?" open":" close"}${s()?" animation "+l():""}`,"svelte-lv9s7p"),at(b,`margin-top: ${(o()?a():"0px")??""};${d(g)?` --expander-animation-height: -${d(g)}px;`:""}`)}),we(e,b),Bn(E)}customElements.define("expander-sub-card",wi(nr,{config:{},hass:{},preview:{},marginTop:{},open:{},animation:{},animationState:{},clearCardCss:{}},[],[],!0));const $i=(e,t)=>{var n;(n=e.dispatchEvent)==null||n.call(e,new CustomEvent("haptic",{detail:t,bubbles:!0,composed:!0}))},rr={gap:"0.0em","expanded-gap":"0.6em",padding:"1em",clear:!1,"clear-children":!1,title:" ","overlay-margin":"0.0em","child-padding":"0.0em","child-margin-top":"0.0em","button-background":"transparent","expander-card-background":"var(--ha-card-background,var(--card-background-color,#fff))","header-color":"var(--primary-text-color,#fff)","arrow-color":"var(--arrow-color,var(--primary-text-color,#fff))","expander-card-display":"block","title-card-clickable":!1,"min-width-expanded":0,"max-width-expanded":0,icon:"mdi:chevron-down","icon-rotate-degree":"180deg",animation:!0};var gs=We("<ha-ripple></ha-ripple>",2),_s=We('<button aria-label="Toggle button"><ha-icon></ha-icon> <!></button>',2),ms=We("<ha-ripple></ha-ripple>",2),ys=We('<div id="id1"><div id="id2"><!></div> <!> <!></div>'),ws=We("<button><div> </div> <ha-icon></ha-icon> <ha-ripple></ha-ripple></button>",2),bs=We("<div><div></div></div>"),$s=We("<ha-card><!> <!> <!></ha-card>",2);const Es={hash:"svelte-1jqiztq",code:`.expander-card.svelte-1jqiztq {display:var(--expander-card-display,block);gap:var(--gap);padding:var(--padding);background:var(--card-background,#fff);-webkit-tap-highlight-color:transparent;}.expander-card.animation.svelte-1jqiztq {transition:gap 0.35s ease, background-color var(--background-animation-duration, 0) ease;}.children-wrapper.svelte-1jqiztq {display:flex;flex-direction:column;}.children-wrapper.animation.opening.svelte-1jqiztq,
    .children-wrapper.animation.closing.svelte-1jqiztq {overflow:hidden;}.children-container.animation.svelte-1jqiztq {transition:padding 0.35s ease, gap 0.35s ease;}.children-container.svelte-1jqiztq {padding:var(--child-padding);display:var(--expander-card-display,block);gap:var(--gap);}.clear.svelte-1jqiztq {background:none !important;background-color:transparent !important;border-style:none !important;box-shadow:none !important;}.title-card-header.svelte-1jqiztq {display:flex;align-items:center;justify-content:space-between;flex-direction:row;position:relative;}.title-card-header.clickable.svelte-1jqiztq {cursor:pointer;border-style:none;border-radius:var(--ha-card-border-radius, var(--ha-border-radius-lg));}.title-card-header-overlay.svelte-1jqiztq {display:block;}.title-card-container.svelte-1jqiztq {width:100%;padding:var(--title-padding);}.header.svelte-1jqiztq {display:flex;flex-direction:row;align-items:center;padding:0.85em 0.85em;background:var(--button-background);border-style:none;border-radius:var(--ha-card-border-radius, var(--ha-border-radius-lg));width:var(--header-width,auto);color:var(--header-color,#fff);cursor:pointer;position:relative;}.header-overlay.svelte-1jqiztq {position:absolute;top:0;right:0;margin:var(--overlay-margin);}.title-card-header-overlay.clickable.svelte-1jqiztq  > .header-overlay:where(.svelte-1jqiztq) {width:calc(100% - var(--overlay-margin) * 2);justify-content:flex-end;}.title-card-header-overlay.clickable.svelte-1jqiztq > .title-card-container:where(.svelte-1jqiztq) {width:calc(100% - var(--overlay-margin) * 2);}.title.svelte-1jqiztq {width:100%;text-align:left;}.ico.animation.svelte-1jqiztq {transition-property:transform;transition-duration:0.35s;}.ico.svelte-1jqiztq {color:var(--arrow-color,var(--primary-text-color,#fff));}.flipped.svelte-1jqiztq {transform:rotate(var(--icon-rotate-degree,180deg));}`};function Ei(e,t){Ln(t,!0),pi(e,Es);const n=Oe(t,"hass"),i=Oe(t,"preview"),r=Oe(t,"config",7,rr);let a=j(!1),o=j(null),s=j(_t(!!i())),l=j(_t(!!i())),f=j(!0),u=j("idle"),h=j(null),v=j(0),g=j(null),p=j(null),E=j(null),b=j(null);const z=r()["storage-id"],H="expander-open-"+z,m=`<style>${r().style}</style>`;w(f,i()||(W(r()["show-button-users"])??!0),!0),Qt(()=>{i()===d(l)||i()===void 0||(w(l,i(),!0),d(l)?(Y(!0),w(f,!0)):(ie(),w(f,W(r()["show-button-users"])??!0,!0)))});function W(_){var $,N,P,xe;if(_!==void 0)return((N=($=n())==null?void 0:$.user)==null?void 0:N.name)!==void 0&&_.includes((xe=(P=n())==null?void 0:P.user)==null?void 0:xe.name)}function ie(){if(W(r()["start-expanded-users"]))Y(!0);else if(z!==void 0)try{const _=localStorage.getItem(H);_===null?r().expanded!==void 0&&Y(r().expanded):w(s,_?_==="true":d(s),!0)}catch(_){console.error(_)}else r().expanded!==void 0?Y(r().expanded):Y(!1)}function F(_){d(h)&&(clearTimeout(d(h)),w(h,null));const $=_!==void 0?_:!d(s);r().animation?(w(u,$?"opening":"closing",!0),$?(Y(!0),w(h,setTimeout(()=>{w(u,"idle"),w(h,null)},350),!0)):w(h,setTimeout(()=>{Y(!1),w(u,"idle"),w(h,null)},350),!0)):Y($)}function Y(_){if(w(s,_,!0),z!==void 0)try{localStorage.setItem(H,d(s)?"true":"false")}catch($){console.error($)}d(s)&&d(v)===0&&w(v,.35)}function De(_){var N,P;const $=(P=(N=_.detail)==null?void 0:N["expander-card"])==null?void 0:P.data;($==null?void 0:$["expander-card-id"])===r()["expander-card-id"]&&($.action==="open"&&!d(s)?F(!0):$.action==="close"&&d(s)?F(!1):$.action==="toggle"&&F())}function U(){document.body.removeEventListener("ll-custom",De)}let qt,At=!1,ki=0,Si=0;const xs=_=>{d(b)&&(d(b).disabled=!0),qt=_.target,ki=_.touches[0].clientX,Si=_.touches[0].clientY,At=!1},ks=_=>{const $=_.touches[0].clientX,N=_.touches[0].clientY;(Math.abs($-ki)>10||Math.abs(N-Si)>10)&&(At=!0)},Ss=()=>{d(b)&&(d(b).disabled=!1),qt=void 0,At=!1},Cs=()=>{d(b)&&(d(b).disabled=!1)},Ts=_=>{!At&&qt===_.target&&r()["title-card-clickable"]&&($i(qt,"light"),F(),w(a,!0),w(o,window.setTimeout(()=>{w(a,!1),w(o,null)},100),!0),d(b)&&(d(b).startPressAnimation(),d(b).endPressAnimation())),qt=void 0,At=!1};di(()=>{const _=r()["min-width-expanded"],$=r()["max-width-expanded"],N=document.body.offsetWidth;_&&$?r().expanded=N>=_&&N<=$:_?r().expanded=N>=_:$&&(r().expanded=N<=$),i()?Y(!0):ie(),document.body.addEventListener("ll-custom",De);let P;return r()["title-card-clickable"]&&!r()["title-card-button-overlay"]&&d(p)?P=d(p):d(E)&&(P=d(E)),P&&(P.addEventListener("touchstart",xs,{passive:!0,capture:!0}),P.addEventListener("touchmove",ks,{passive:!0,capture:!0}),P.addEventListener("touchcancel",Ss,{passive:!0,capture:!0}),P.addEventListener("touchend",Cs,{passive:!0,capture:!0}),P.addEventListener("touchend",Ts,{passive:!1,capture:!1})),r()["title-card-clickable"]&&r()["title-card-button-overlay"]&&d(p)&&new ResizeObserver(()=>{if(d(E)&&d(p)&&d(g)){const he=d(p).getBoundingClientRect();d(E).style.height=`${he.height-parseFloat(getComputedStyle(d(E)).marginTop)-parseFloat(getComputedStyle(d(E)).marginBottom)+parseFloat(getComputedStyle(d(g)).paddingTop)+parseFloat(getComputedStyle(d(g)).paddingBottom)}px`}}).observe(d(p)),U});const ir=_=>{if(d(a))return _.preventDefault(),_.stopImmediatePropagation(),w(a,!1),d(o)&&(clearTimeout(d(o)),w(o,null)),!1;$i(_.currentTarget,"light"),F()};var qs={get hass(){return n()},set hass(_){n(_),ve()},get preview(){return i()},set preview(_){i(_),ve()},get config(){return r()},set config(_=rr){r(_),ve()}},Vt=$s(),Ci=tt(Vt);{var As=_=>{var $=ys();$.__click=function(...Q){var ae;(ae=r()["title-card-clickable"]&&!r()["title-card-button-overlay"]?ir:null)==null||ae.apply(this,Q)};var N=tt($),P=tt(N);nr(P,{get hass(){return n()},get preview(){return i()},get config(){return r()["title-card"]},animation:!1,open:!0,animationState:"idle",get clearCardCss(){return r()["clear-children"]}}),Ve(N);var xe=mt(N,2);{var he=Q=>{var ae=_s();ae.__click=function(...Ot){var fn;(fn=!r()["title-card-clickable"]||r()["title-card-button-overlay"]?ir:null)==null||fn.apply(this,Ot)};var Le=tt(ae);Je(()=>gi(Le,"icon",r().icon));var zs=mt(Le,2);{var Ps=Ot=>{var fn=gs();st(fn,Fs=>w(b,Fs),()=>d(b)),we(Ot,fn)};rt(zs,Ot=>{(!r()["title-card-clickable"]||r()["title-card-button-overlay"])&&Ot(Ps)})}Ve(ae),st(ae,Ot=>w(E,Ot),()=>d(E)),Je(()=>{at(ae,`--overlay-margin:${r()["overlay-margin"]??""}; --button-background:${r()["button-background"]??""}; --header-color:${r()["header-color"]??""};`),Ae(ae,1,`header ${r()["title-card-button-overlay"]?" header-overlay":""}${d(s)?" open":" close"}${r().animation?" animation "+d(u):""}`,"svelte-1jqiztq"),at(Le,`--arrow-color:${r()["arrow-color"]??""}`),Ae(Le,1,`ico${d(s)&&d(u)!=="closing"?" flipped open":" close"}${r().animation?" animation "+d(u):""}`,"svelte-1jqiztq")}),we(Q,ae)};rt(xe,Q=>{d(f)&&Q(he)})}var Jt=mt(xe,2);{var ar=Q=>{var ae=ms();st(ae,Le=>w(b,Le),()=>d(b)),we(Q,ae)};rt(Jt,Q=>{r()["title-card-clickable"]&&!r()["title-card-button-overlay"]&&Q(ar)})}Ve($),st($,Q=>w(p,Q),()=>d(p)),Je(()=>{Ae($,1,`title-card-header${r()["title-card-button-overlay"]?"-overlay":""}${d(s)?" open":" close"}${r().animation?" animation "+d(u):""}${r()["title-card-clickable"]?" clickable":""}`,"svelte-1jqiztq"),vi($,"role",r()["title-card-clickable"]&&!r()["title-card-button-overlay"]?"button":void 0),Ae(N,1,`title-card-container${d(s)?" open":" close"}${r().animation?" animation "+d(u):""}`,"svelte-1jqiztq"),at(N,`--title-padding:${(r()["title-card-padding"]?r()["title-card-padding"]:"0px")??""};`)}),we(_,$)},Os=_=>{var $=fi(),N=Mr($);{var P=xe=>{var he=ws();he.__click=ir;var Jt=tt(he),ar=tt(Jt,!0);Ve(Jt);var Q=mt(Jt,2);Je(()=>gi(Q,"icon",r().icon));var ae=mt(Q,2);st(ae,Le=>w(b,Le),()=>d(b)),Ve(he),st(he,Le=>w(E,Le),()=>d(E)),Je(()=>{Ae(he,1,`header${d(s)?" open":" close"}${r().animation?" animation "+d(u):""}`,"svelte-1jqiztq"),at(he,`--header-width:100%; --button-background:${r()["button-background"]??""};--header-color:${r()["header-color"]??""};`),Ae(Jt,1,`primary title${d(s)?" open":" close"}`,"svelte-1jqiztq"),Ga(ar,r().title),at(Q,`--arrow-color:${r()["arrow-color"]??""}`),Ae(Q,1,`ico${d(s)&&d(u)!=="closing"?" flipped open":" close"}${r().animation?" animation "+d(u):""}`,"svelte-1jqiztq")}),we(xe,he)};rt(N,xe=>{d(f)&&xe(P)})}we(_,$)};rt(Ci,_=>{r()["title-card"]?_(As):_(Os,!1)})}var Ti=mt(Ci,2);{var Ns=_=>{var $=bs(),N=tt($);es(N,20,()=>r().cards,P=>P,(P,xe)=>{{let he=Na(()=>d(s)&&i());nr(P,{get hass(){return n()},get preview(){return d(he)},get config(){return xe},get marginTop(){return r()["child-margin-top"]},get open(){return d(s)},get animation(){return r().animation},get animationState(){return d(u)},get clearCardCss(){return r()["clear-children"]}})}}),Ve(N),Ve($),Je(()=>{Ae($,1,`children-wrapper ${r().animation?"animation "+d(u):""}${d(s)?" open":" close"}`,"svelte-1jqiztq"),at(N,`--expander-card-display:${r()["expander-card-display"]??""};
                --gap:${(d(s)&&d(u)!=="closing"?r()["expanded-gap"]:r().gap)??""};
                --child-padding:${(d(s)&&d(u)!=="closing"?r()["child-padding"]:"0px")??""};`),Ae(N,1,`children-container${d(s)?" open":" close"}${r().animation?" animation "+d(u):""}`,"svelte-1jqiztq")}),we(_,$)};rt(Ti,_=>{r().cards&&_(Ns)})}var Rs=mt(Ti,2);{var js=_=>{var $=fi(),N=Mr($);rs(N,()=>m),we(_,$)};rt(Rs,_=>{m&&_(js)})}return Ve(Vt),st(Vt,_=>w(g,_),()=>d(g)),Je(()=>{Ae(Vt,1,`expander-card${r().clear?" clear":""}${d(s)?" open":" close"} ${d(u)}${r().animation?" animation "+d(u):""}`,"svelte-1jqiztq"),at(Vt,`--expander-card-display:${r()["expander-card-display"]??""};
     --gap:${(d(s)&&d(u)!=="closing"?r()["expanded-gap"]:r().gap)??""}; --padding:${r().padding??""};
     --expander-state:${d(s)??""};
     --icon-rotate-degree:${r()["icon-rotate-degree"]??""};
     --card-background:${(d(s)&&d(u)!=="closing"&&r()["expander-card-background-expanded"]?r()["expander-card-background-expanded"]:r()["expander-card-background"])??""};
     --background-animation-duration:${d(v)??""}s;
    `)}),we(e,Vt),Bn(qs)}return Va(["click"]),customElements.define("expander-card",wi(Ei,{hass:{},preview:{},config:{}},[],[],!0,e=>class extends e{constructor(){super(...arguments);M(this,"config")}static async getConfigElement(){return await Vi(),document.createElement("expander-card-editor")}static getStubConfig(){return{type:"custom:expander-card",title:"Expander Card",cards:[]}}setConfig(n={}){this.config={...rr,...n}}})),console.info(`%c  Expander-Card 
%c Version 4.0.2`,"color: orange; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray"),window.customCards=window.customCards||[],window.customCards.push({type:"expander-card",name:"Expander Card",preview:!0,description:"Expander card"}),Ei}));
//# sourceMappingURL=expander-card.umd.cjs.map
